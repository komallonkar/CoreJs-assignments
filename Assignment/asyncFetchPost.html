<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch post using async await</title>
    <style>
        body {
            font-family: Poppins,monospace;
        }

        .list-title {
            font-size: 24px;
        }

        .list-body {
            font-size: 23px;
        }
    </style>
</head>
<body>
    <button id="fetch">
        Fetch posts from API</button>
    </button>
    <div id="list">

    </div>

<script>
const URL = "https://jsonplaceholder.typicode.com/posts";
var fetchBtn = document.getElementById("fetch");
fetchBtn.addEventListener("click", fetchlist);

async function fetchlist() {
const URL_POST="https://jsonplaceholder.typicode.com/posts";
try{
let userData = await fetch(URL_POST);
let userJSON = await userData.json();
    function createElements(author){
        let list = document.getElementById("list");
        let title = document.createElement("h2");
        let body = document.createElement("p");
        let hr = document.createElement("hr");
        
        title.className = "list-title";
        body.className = "list-body";
        title.innerHTML = author.title;
        body.innerHTML = author.body;
        list.appendChild(title);
        list.appendChild(body);
        list.appendChild(hr);
    }
    
userJSON.map(function(user){
createElements(user);
})
}catch(err){
console.log(err);
}


}
</script>
</body>
</html>